(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bundle-pages-get_coupon-get_coupon"],{"0bef":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".banner[data-v-e0c5ffe6]{width:100%;height:%?340?%}.main[data-v-e0c5ffe6]{border-radius:%?20?% %?20?% 0 0;margin-top:%?-20?%;overflow:hidden;position:relative}",""]),t.exports=e},"17e0":function(t,e,n){"use strict";n.r(e);var i=n("2851"),a=n("f8c0");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("4e83");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"0a5a34e0",null,!1,i["a"],void 0);e["default"]=s.exports},1984:function(t,e,n){"use strict";n.r(e);var i=n("a398"),a=n("251e");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("76be");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"fa6b581a",null,!1,i["a"],void 0);e["default"]=s.exports},"251e":function(t,e,n){"use strict";n.r(e);var i=n("85574"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},2851:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-text",{class:(t.lineThrough?"line-through":"")+" price-format",style:{color:t.color,"font-weight":t.weight}},[t.showSubscript?n("v-uni-text",{style:{"font-size":t.subscriptSize+"rpx","margin-right":"2rpx"}},[t._v("¥")]):t._e(),n("v-uni-text",{style:{"font-size":t.firstSize+"rpx","margin-right":"1rpx"}},[t._v(t._s(t.priceSlice.first))]),t.priceSlice.second?n("v-uni-text",{style:{"font-size":t.secondSize+"rpx"}},[t._v("."+t._s(t.priceSlice.second))]):t._e()],1)},a=[]},"2ec5":function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},"31b8":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={couponList:n("1984").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mescroll-body",{ref:"mescrollRef",attrs:{up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"get-coupon"},[i("v-uni-view",[i("v-uni-image",{staticClass:"banner",attrs:{src:n("9f4a")}})],1),i("v-uni-view",{staticClass:"bg-body main"},[i("coupon-list",{attrs:{list:t.couponList,"btn-type":3},on:{refresh:function(e){arguments[0]=e=t.$handleEvent(e),t.refresh.apply(void 0,arguments)}}})],1)],1)],1)},r=[]},4656:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.cancelIntegralOrder=function(t){return a.default.post("integral_order/cancel",{id:t})},e.closeBargainOrder=function(t){return a.default.get("bargain/closeBargain",{params:t})},e.confirmIntegralOrder=function(t){return a.default.post("integral_order/confirm",{id:t})},e.delIntegralOrder=function(t){return a.default.post("integral_order/del",{id:t})},e.getActivityGoodsLists=function(t){return a.default.get("activity_area/activityGoodsList",{params:t})},e.getBargainActivityDetail=function(t){return a.default.get("bargain/bargainDetail",{params:t})},e.getBargainActivityList=function(t){return a.default.get("bargain/orderList",{params:t})},e.getBargainDetail=function(t){return a.default.get("bargain/detail",{params:t})},e.getBargainList=function(t){return a.default.get("bargain/lists",{params:t})},e.getBargainNumber=function(){return a.default.get("bargain/barginNumber")},e.getBargainPost=function(t){return a.default.get("share/shareBargain",{params:t})},e.getCoupon=function(t){return a.default.post("coupon/getCoupon",{coupon_id:t})},e.getCouponList=function(t){return a.default.get("coupon/getCouponList",{params:t})},e.getGroupList=function(t){return a.default.get("team/activity",{params:t})},e.getIntegralGoods=function(t){return a.default.get("integral_goods/lists",{params:t})},e.getIntegralGoodsDetail=function(t){return a.default.get("integral_goods/detail",{params:t})},e.getIntegralOrder=function(t){return a.default.get("integral_order/lists",{params:t})},e.getIntegralOrderDetail=function(t){return a.default.get("integral_order/detail",{params:{id:t}})},e.getIntegralOrderTraces=function(t){return a.default.get("integral_order/orderTraces",{params:{id:t}})},e.getMyCoupon=function(t){return a.default.get("coupon/myCouponList",{params:t})},e.getOrderCoupon=function(t){return a.default.post("coupon/getBuyCouponList",t)},e.getSeckillGoods=function(t){return a.default.get("seckill_goods/getSeckillGoods",{params:t})},e.getSeckillTime=function(){return a.default.get("seckill_goods/getSeckillTime")},e.getSignLists=function(){return a.default.get("sign/lists")},e.getSignRule=function(){return a.default.get("sign/rule")},e.getTeamInfo=function(t){return a.default.get("team/teamInfo",{params:t})},e.getUserGroup=function(t){return a.default.get("team/record",{params:t})},e.helpBargain=function(t){return a.default.post("bargain/knife",t)},e.integralSettlement=function(t){return a.default.get("integral_order/settlement",{params:t})},e.integralSubmitOrder=function(t){return a.default.post("integral_order/submitOrder",t)},e.launchBargain=function(t){return a.default.post("bargain/sponsor",t)},e.teamBuy=function(t){return a.default.post("team/buy",t)},e.teamCheck=function(t){return a.default.post("team/check",t)},e.teamKaiTuan=function(t){return a.default.post("team/kaituan",t)},e.userSignIn=function(){return a.default.get("sign/sign")};var a=i(n("434d"));n("b7aa")},"4e83":function(t,e,n){"use strict";var i=n("78ab"),a=n.n(i);a.a},"535f":function(t,e,n){t.exports=n.p+"static/images/received.png"},"67bc":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(t){console.log(t),this.mescroll=t,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef;t&&(this.mescroll=t.mescroll)}},downCallback:function(){var t=this;this.mescroll.optUp.use?this.mescroll.resetUpScroll():setTimeout((function(){t.mescroll.endSuccess()}),500)},upCallback:function(){var t=this;setTimeout((function(){t.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},a=i;e.default=a},"757a":function(t,e,n){"use strict";n.r(e);var i=n("a27f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"75d0":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".price-format[data-v-0a5a34e0]{font-family:Avenir,SourceHanSansCN,PingFang SC,Arial,Hiragino Sans GB,Microsoft YaHei,sans-serif}",""]),t.exports=e},"76be":function(t,e,n){"use strict";var i=n("af663"),a=n.n(i);a.a},"78ab":function(t,e,n){var i=n("75d0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("7f16afa1",i,!0,{sourceMap:!1,shadowMode:!1})},8201:function(t,e,n){var i=n("c86c"),a=n("2ec5"),r=n("ca70"),o=n("e4fb");e=i(!1);var s=a(r),u=a(o);e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.coupon-list[data-v-fa6b581a]{padding:0 %?24?%;overflow:hidden}.coupon-list .coupon-item[data-v-fa6b581a]{position:relative;height:%?200?%;background-image:url('+s+");background-size:100% 100%}.coupon-list .coupon-item.gray[data-v-fa6b581a]{background-image:url("+u+")}.coupon-list .coupon-item.gray .btn.plain[data-v-fa6b581a]{color:#ccc}.coupon-list .coupon-item .price[data-v-fa6b581a]{width:%?200?%}.coupon-list .coupon-item .btn[data-v-fa6b581a]{line-height:%?52?%;height:%?52?%;position:absolute;right:%?20?%;bottom:%?20?%;width:%?120?%;text-align:center;padding:0}.coupon-list .coupon-item .btn.plain[data-v-fa6b581a]{background-color:#fff;color:#ff2c3c;border:1px solid currentColor}.coupon-list .coupon-item .receive[data-v-fa6b581a]{position:absolute;right:%?30?%;top:%?0?%;width:%?99?%;height:%?77?%}.coupon-list .icon[data-v-fa6b581a]{transition:all .4s}.coupon-list .rotate[data-v-fa6b581a]{-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.coupon-list .received[data-v-fa6b581a]{position:absolute;top:0;right:%?50?%;width:%?70?%;height:%?50?%}",""]),t.exports=e},8526:function(t,e,n){"use strict";var i=n("cafa"),a=n.n(i);a.a},85574:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa"),n("fd3c"),n("aa9c");var i=n("4656"),a={data:function(){return{showTips:[]}},props:{list:{type:Array,default:function(){return[]}},btnType:{type:Number}},watch:{list:{handler:function(t){var e=t.map((function(t){return 0}));this.showTips=e},immediate:!0,deep:!0}},computed:{getBtn:function(){var t=this;return function(e){var n="";return n=e.is_get?e.can_continue_get?"继续领取":"去使用":0==t.btnType?"去使用":"领取",n}}},methods:{onHandle:function(t,e){this.id=t;var n=this.getBtn(e);switch(n){case"去使用":0==this.btnType?uni.redirectTo({url:"/pages/store_index/store_index?id=".concat(e.shop_id)}):uni.redirectTo({url:"/pages/store_index/store_index?id=".concat(e.shop.id)});break;case"领取":this.getCouponFun(),e.is_get=1,e.can_continue_get=0;break;case"继续领取":this.getCouponFun(),e.can_continue_get=0;break}},onShowTips:function(t){var e=this.showTips;this.showTips[t]=e[t]?0:1,this.showTips=Object.assign([],this.showTips)},getCouponFun:function(){var t=this;if(!this.isLogin)return this.$Router.push("/pages/login/login");(0,i.getCoupon)(this.id).then((function(e){1==e.code&&t.$toast({title:e.msg})}))}}};e.default=a},"8a7c":function(t,e,n){"use strict";n.r(e);var i=n("31b8"),a=n("757a");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("8526");var o=n("828b"),s=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"e0c5ffe6",null,!1,i["a"],void 0);e["default"]=s.exports},"9f4a":function(t,e,n){t.exports=n.p+"bundle/static/banner_coupon.jpg"},a27f:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("c223");var a=n("4656"),r=i(n("67bc")),o={mixins:[r.default],data:function(){return{active:0,upOption:{empty:{icon:"/static/images/coupon_null.png",tip:"暂无优惠券"}},tabList:[{name:"全部",type:"all"},{name:"店铺券",type:"shop"},{name:"通用券",type:"platform"}],couponList:[]}},onLoad:function(t){},methods:{upCallback:function(t){var e=this,n=this.tabList,i=this.active;(0,a.getCouponList)({page_size:t.size,page_no:t.num,type:n[i].type}).then((function(n){var i=n.data;1==t.num&&(e.couponList=[]);var a=i.lists,r=a.length,o=!!i.more;e.couponList=e.couponList.concat(a),e.mescroll.endSuccess(r,o)})).catch((function(){e.mescroll.endErr()}))},changeActive:function(t){this.active=t,this.refresh()},refresh:function(){this.couponList=[],this.mescroll.resetUpScroll()}}};e.default=o},a398:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={priceFormat:n("17e0").default,uIcon:n("d883").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"coupon-list"},t._l(t.list,(function(e,a){return i("v-uni-view",{key:a,staticClass:"m-t-20"},[i("v-uni-view",{class:"coupon-item flex "+(1==t.btnType||2==t.btnType?"gray":"")},[e.is_get?i("img",{staticClass:"received",attrs:{src:n("535f"),alt:""}}):t._e(),i("v-uni-view",{staticClass:"price white flex-col col-center"},[i("v-uni-view",{staticClass:"xl"},[i("price-format",{attrs:{"first-size":60,"second-size":50,"subscript-size":34,price:e.money,weight:500}})],1),i("v-uni-view",{staticClass:"sm text-center"},[t._v(t._s(e.condition_type_desc))])],1),i("v-uni-view",{staticClass:"info m-l-20"},[i("v-uni-view",{staticClass:"lg m-b-20"},[t._v(t._s(e.coupon_name))]),i("v-uni-view",{staticClass:"xs lighter m-b-20"},[t._v(t._s(e.user_time_desc))]),i("v-uni-view",{staticClass:"xs lighter"},[t._v(t._s(e.use_scene_desc))])],1),i("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:!(1==t.btnType||2==t.btnType),expression:"!(btnType == 1 || btnType == 2)"}],class:"btn br60 white xs "+("去使用"==t.getBtn(e)?"plain":""),attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.onHandle(e.id,e)}}},[t._v(t._s(t.getBtn(e)))]),e.is_get?i("v-uni-image",{staticClass:"receive",attrs:{src:"/static/images/coupon_receive.png"}}):t._e()],1),e.use_goods_desc?i("v-uni-view",{staticClass:"bg-white",staticStyle:{padding:"14rpx 20rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onShowTips(a)}}},[i("v-uni-view",{staticClass:"flex row-between"},[i("v-uni-view",{staticClass:"xs"},[t._v("使用说明")]),i("u-icon",{class:t.showTips[a]?"rotate":"",attrs:{name:"arrow-down"}})],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.showTips[a],expression:"showTips[index]"}],staticClass:"m-t-10 xs"},[t._v(t._s(e.use_goods_desc))])],1):t._e()],1)})),1)},r=[]},af663:function(t,e,n){var i=n("8201");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("129ab031",i,!0,{sourceMap:!1,shadowMode:!1})},b716:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa"),n("e838");var i={data:function(){return{priceSlice:{}}},components:{},props:{firstSize:{type:[String,Number],default:28},secondSize:{type:[String,Number],default:28},color:{type:String},weight:{type:[String,Number],default:400},price:{type:[String,Number],default:""},showSubscript:{type:Boolean,default:!0},subscriptSize:{type:[String,Number],default:28},lineThrough:{type:Boolean,default:!1}},created:function(){this.priceFormat()},watch:{price:function(t){this.priceFormat()}},methods:{priceFormat:function(){var t=this.price,e={};null!==t&&""!==t&&void 0!==t?(t=parseFloat(t),t=String(t).split("."),e.first=t[0],e.second=t[1],this.priceSlice=e):this.priceSlice={first:0}}}};e.default=i},ca70:function(t,e,n){t.exports=n.p+"static/images/coupon_bg.png"},cafa:function(t,e,n){var i=n("0bef");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("967d").default;a("36c7cf10",i,!0,{sourceMap:!1,shadowMode:!1})},e4fb:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAr4AAADIBAMAAAD8Tf+zAAAAHlBMVEUAAADv7+/k5OTn5+fl5eXm5ubk5OTk5OTl5eX///8aoTc0AAAACHRSTlMAEDBAn6Dv8NSwICYAAAIkSURBVHja7dlREQIxDEXRAoMXpCABCUhAAhZwi4bM5G073bMSzsc2uRnfA77feb/Bly9fvnz58uVb9X3xjfpeP3yTvuPBN+p75xv1vfGN+l748vV/4Ot9M59tuF+8+SZ9n/ZjfYcvX758+fIt+urr4flXX7e/6Q989TP9ly9f/wfvm/mMb9d+oa9HffV1fYcvX758+fLlu5av+0V4v3C/sB/rO3z1yTm++jpf/we+3jfz2Y77hftF1Nf9Qt/hy5cvX758q776enj+1dftb/oDX/1M/+XL1//B+2Y+49u1X+jrUV99Xd/hy5cvX758+a7l634R3i/cL+zH+g5ffXKOr77O1/+Br/fNfLbjfuF+EfV1v9B3+PLly5cv36qvvh6ef/V1+5v+wFc/03/58vV/8L6Zz/h27Rf6etRXX9d3+PLly5cv36qvvh6ef/V1+5v+wFc/03/58vV/8L6Zz/h27Rf6etRXX9d3+PLly5cvX75r+bpfhPcL9wv7sb7DV5+c46uv8/V/4Ot9M5/tuF+4X0R93S/0Hb58+fLly7fqq6+H51993f6mP/DVz/Rfvnz9H7xv5jO+XfuFvh711df1Hb58+fLly5fvWr7uF+H9wv3Cfqzv8NUn5/jq63z9H/h638xnO+4X7hdRX/cLfYcvX758+fKt+urr4flXX7e/6Q989TP9ly9f/wfvm/mMb9d+oa9HffV1fYcvX758+fLly/dE3x8kOVDtActPQAAAAABJRU5ErkJggg=="},f8c0:function(t,e,n){"use strict";n.r(e);var i=n("b716"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a}}]);