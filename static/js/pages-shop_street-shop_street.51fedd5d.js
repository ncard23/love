(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shop_street-shop_street"],{"1b70":function(t,e,o){"use strict";o("6a54");var n=o("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("c223");var a=n(o("2634")),s=n(o("2fdc")),r=n(o("9b1b")),i=o("8f59"),c=n(o("67bc")),l=o("ab02"),u=o("553b"),p={mixins:[c.default],data:function(){return{shopList:[],shopCategory:[],keyword:"",active:-1,upOption:{auto:!1,empty:{icon:"/static/images/goods_null.png",tip:"暂无数据～"}},hotGoods:[]}},onShow:function(){this.appConfig.shop_street_hide||(uni.setNavigationBarTitle({title:"商品"}),this.getHomeFun()),this.getCartNum()},onShareAppMessage:function(){var t=this.appConfig.share;return{title:t.mnp_share_title,path:"pages/shop_street/shop_street?invite_code="+this.inviteCode}},methods:(0,r.default)((0,r.default)({},(0,i.mapActions)(["getCartNum"])),{},{downCallback:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getShopCategoryFun();case 2:t.mescroll.resetUpScroll();case 3:case"end":return e.stop()}}),e)})))()},getHomeFun:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var o,n,s;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.getHome)();case 2:o=e.sent,n=o.code,s=o.data,1==n&&(t.hotGoods=s.hots);case 6:case"end":return e.stop()}}),e)})))()},onReflesh:function(){this.shopList=[],this.mescroll.resetUpScroll()},changeActive:function(t){this.active=t,this.onReflesh()},upCallback:function(t){var e=this,o=t.num,n=t.size,a=this.keyword,s=this.active,r=this.shopCategory,i=-1==s?"":r[s].id;(0,l.getShopList)({page_no:o,page_size:n,name:a,shop_cate_id:i}).then((function(o){if(1==o.code){var n=o.data.list,a=n.length,s=!!o.data.more;1==t.num&&(e.shopList=[]),e.shopList=e.shopList.concat(n),e.mescroll.endSuccess(a,s)}})).catch((function(t){e.mescroll.endErr()}))},getShopCategoryFun:function(){var t=this;return(0,s.default)((0,a.default)().mark((function e(){var o,n,s;return(0,a.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getShopCategory)();case 2:o=e.sent,n=o.code,s=o.data,1==n&&(t.shopCategory=s);case 6:case"end":return e.stop()}}),e)})))()}})};e.default=p},"1bba":function(t,e,o){var n=o("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.shop-street .store-category[data-v-635fa506]{white-space:nowrap;padding-bottom:%?10?%}.shop-street .store-category .category-item[data-v-635fa506]{display:inline-flex;padding:0 %?30?%}.shop-street .store-category .category-item .icon-wrap[data-v-635fa506]{border:1px solid transparent;border-radius:50%}.shop-street .store-container[data-v-635fa506]{padding:0 %?30?%}',""]),t.exports=e},"1bd67":function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return n}));var n={uSearch:o("2fa8").default,uImage:o("3c30").default,shopItem:o("7e50").default,goodsList:o("2f4e").default},a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"shop-street"},[t.appConfig.shop_street_hide?o("mescroll-body",{ref:"mescrollRef",attrs:{up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"shop-street-content"},[o("v-uni-view",{staticClass:"search"},[o("u-search",{attrs:{"bg-color":"#F4F4F4",placeholder:"搜索关键词"},on:{search:function(e){arguments[0]=e=t.$handleEvent(e),t.onReflesh.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),o("v-uni-scroll-view",{staticClass:"bg-white",attrs:{"scroll-x":!0,"scroll-with-animation":!0}},[o("v-uni-view",{staticClass:"store-category p-t-20"},[o("v-uni-view",{staticClass:"category-item flex-col col-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeActive(-1)}}},[o("v-uni-view",{staticClass:"icon-wrap",style:{borderColor:-1==t.active?t.colorConfig.primary:""}},[o("u-image",{attrs:{width:"68rpx",height:"68rpx","border-radius":"60rpx",src:"/static/images/icon_shop_cate.png"}})],1),o("v-uni-view",{staticClass:"xs m-t-10",class:{primary:-1==t.active}},[t._v("全部")])],1),t._l(t.shopCategory,(function(e,n){return o("v-uni-view",{key:n,staticClass:"category-item flex-col col-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeActive(n)}}},[o("v-uni-view",{staticClass:"icon-wrap",style:{borderColor:t.active==n?t.colorConfig.primary:""}},[o("u-image",{attrs:{width:"68rpx",height:"68rpx","border-radius":"60rpx",src:e.image}})],1),o("v-uni-view",{staticClass:"xs m-t-10",class:{primary:t.active==n}},[t._v(t._s(e.name))])],1)}))],2)],1),o("v-uni-view",{staticClass:"store-container"},t._l(t.shopList,(function(t,e){return o("v-uni-view",{key:e,staticClass:"m-t-20"},[o("shop-item",{attrs:{item:t}})],1)})),1)],1)],1):o("v-uni-view",[t.hotGoods.length?o("v-uni-view",{staticClass:"p-b-20"},[o("goods-list",{attrs:{type:"one",list:t.hotGoods}})],1):t._e()],1)],1)},s=[]},"21d5":function(t,e,o){"use strict";o.r(e);var n=o("1b70"),a=o.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"3a38":function(t,e,o){"use strict";var n=o("98d2"),a=o.n(n);a.a},"3d14":function(t,e,o){"use strict";o.r(e);var n=o("1bd67"),a=o("21d5");for(var s in a)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(s);o("3a38");var r=o("828b"),i=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"635fa506",null,!1,n["a"],void 0);e["default"]=i.exports},"67bc":function(t,e,o){"use strict";o("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(t){console.log(t),this.mescroll=t,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef;t&&(this.mescroll=t.mescroll)}},downCallback:function(){var t=this;this.mescroll.optUp.use?this.mescroll.resetUpScroll():setTimeout((function(){t.mescroll.endSuccess()}),500)},upCallback:function(){var t=this;setTimeout((function(){t.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},a=n;e.default=a},"98d2":function(t,e,o){var n=o("1bba");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=o("967d").default;a("c026a4b4",n,!0,{sourceMap:!1,shadowMode:!1})},ab02:function(t,e,o){"use strict";o("6a54");var n=o("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.apiInvoiceAdd=function(t){return a.default.post("order_invoice/add",t)},e.apiInvoiceDetail=function(t){return a.default.get("order_invoice/detail",{params:t})},e.apiInvoiceEdit=function(t){return a.default.post("order_invoice/edit",t)},e.apiOrderInvoiceDetail=function(t){return a.default.get("order/invoice",{params:t})},e.changeShopFollow=function(t){return a.default.post("shop_follow/changeStatus",t)},e.getInvoiceSetting=function(t){return a.default.get("order_invoice/setting",{params:t})},e.getNearbyShops=function(t){return a.default.get("shop/getNearbyShops",{params:t})},e.getShopCategory=function(){return a.default.get("shop_category/getList")},e.getShopGoodsCategory=function(t){return a.default.get("shop_goods_category/getShopGoodsCategory",{params:t})},e.getShopInfo=function(t){return a.default.get("shop/getShopInfo",{params:t})},e.getShopList=function(t){return a.default.get("shop/getShopList",{params:t})},e.getShopService=function(t){return a.default.get("setting/getShopCustomerService",{params:{shop_id:t}})},e.getTreaty=function(){return a.default.get("ShopApply/getTreaty")},e.shopApply=function(t){return a.default.post("ShopApply/apply",t)},e.shopApplyDetail=function(t){return a.default.get("ShopApply/detail",{params:{id:t}})},e.shopApplyRecord=function(t){return a.default.get("ShopApply/record",{params:t})};var a=n(o("434d"));o("b7aa")}}]);