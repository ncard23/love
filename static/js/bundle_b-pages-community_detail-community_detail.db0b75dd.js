(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["bundle_b-pages-community_detail-community_detail"],{"01ae":function(t,e,n){"use strict";n.r(e);var i=n("cc69"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"01c1":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.loading[data-v-061dd044]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;display:flex;justify-content:center;align-items:center}.loading.flex[data-v-061dd044]{position:static;flex:1;width:100%}.loading .loading-img[data-v-061dd044]{width:%?100?%;height:%?100?%}',""]),t.exports=e},"06a1":function(t,e,n){"use strict";n.r(e);var i=n("6029"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"0764":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var i=n("6817"),o={name:"community-goods",props:{value:{type:Boolean},communityId:{type:[String,Number],default:""}},data:function(){return{lists:[]}},computed:{show:{get:function(){return this.value},set:function(t){t&&this.initRecommendGoods(),this.$emit("input",t)}}},methods:{initRecommendGoods:function(){var t=this;(0,i.getCommunityGoodsLists)({id:this.communityId}).then((function(e){t.lists=e.data}))}}};e.default=o},"0bd1":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uPopup:n("59b9").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("u-popup",{attrs:{mode:"bottom","border-radius":t.borderRadius,popup:!1,maskCloseAble:t.maskCloseAble,length:"auto",safeAreaInsetBottom:t.safeAreaInsetBottom,"z-index":t.uZIndex},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.popupClose.apply(void 0,arguments)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[t.tips.text?n("v-uni-view",{staticClass:"u-tips u-border-bottom",style:[t.tipsStyle]},[t._v(t._s(t.tips.text))]):t._e(),t._l(t.list,(function(e,i){return[n("v-uni-view",{key:i+"_0",staticClass:"u-action-sheet-item u-line-1",class:[i<t.list.length-1?"u-border-bottom":""],style:[t.itemStyle(i)],attrs:{"hover-stay-time":150},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.itemClick(i)}}},[n("v-uni-text",[t._v(t._s(e.text))]),e.subText?n("v-uni-text",{staticClass:"u-action-sheet-item__subtext u-line-1"},[t._v(t._s(e.subText))]):t._e()],1)]})),t.cancelBtn?n("v-uni-view",{staticClass:"u-gab"}):t._e(),t.cancelBtn?n("v-uni-view",{staticClass:"u-actionsheet-cancel u-action-sheet-item",attrs:{"hover-class":"u-hover-class","hover-stay-time":150},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}},[t._v(t._s(t.cancelText))]):t._e()],2)},a=[]},1395:function(t,e,n){var i=n("f4c6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("41216d07",i,!0,{sourceMap:!1,shadowMode:!1})},"153d":function(t,e,n){"use strict";n.r(e);var i=n("a5fb"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},1807:function(t,e,n){"use strict";n.r(e);var i=n("9828"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"1a93":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uMask:n("cf75").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"mask-comment"},[n("u-mask",{attrs:{show:t.show,duration:"0"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.show=!1}}}),t.show?n("v-uni-view",{staticClass:"comment-popup bg-white",style:{bottom:t.isFocus?t.tabbarBottom+t.height+"px":"0px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isFocus=!0}}},[n("v-uni-view",{staticClass:"comment-popup-header flex row-between"},[n("v-uni-view",{staticClass:"lg normal",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.show=!1}}},[t._v("取消")]),n("v-uni-view",{staticClass:"lg bold"},[t._v("评论")]),n("v-uni-view",{staticClass:"primary lg",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handleComment.apply(void 0,arguments)}}},[t._v("确定")])],1),n("v-uni-view",{staticClass:"comment-popup-content"},[n("v-uni-textarea",{staticClass:"comment-popup-textarea",attrs:{cols:"30",rows:"10",focus:t.isFocus,"auto-focus":!0,placeholder:t.commentPlaceholder,"disable-default-padding":!0,"show-confirm-bar":!1,fixed:!0,"adjust-position":!1},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.handleFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.handleBlur.apply(void 0,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1):t._e()],1)},a=[]},"1bae":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.comment--item-list[data-v-212f86a4]  .comment{border-bottom:none;padding:0;margin-left:%?104?%;margin-top:%?24?%}.comment--item-list[data-v-212f86a4]  .comment .border-b{padding:0;border-bottom:none}.comment[data-v-212f86a4]{transition:all .5s;padding:%?24?% %?24?% 0 %?24?%}.comment[data-v-212f86a4]  .comment--item-list{border-bottom:none;padding:0;margin-left:%?104?%;margin-top:%?24?%}.comment[data-v-212f86a4]  .comment--item-list .border-b{padding:0;border-bottom:none}.comment .border-b[data-v-212f86a4]{margin-left:%?104?%;padding-bottom:%?18?%;border-bottom:1px solid #e5e5e5}.comment .sons[data-v-212f86a4]{margin-left:%?104?%}.comment--item[data-v-212f86a4]{transition:all .5s}.comment--item .author[data-v-212f86a4]{padding:0 %?16?%;margin-left:%?10?%;background-color:#eee;border-radius:%?18?%}.comment--item .content[data-v-212f86a4]{white-space:pre-line}.comment--item .good uni-image[data-v-212f86a4]{width:%?26?%;height:%?26?%}',""]),t.exports=e},"1bef":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.shop[data-v-05e2bf4b]{padding:%?20?%;border-top:1px solid #f6f6f6}.shop .shop-info[data-v-05e2bf4b]{height:%?160?%;line-height:%?160?%}',""]),t.exports=e},"27c6":function(t,e,n){var i=n("4c56");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("51736fe5",i,!0,{sourceMap:!1,shadowMode:!1})},"2ec5":function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},3378:function(t,e,n){"use strict";n.r(e);var i=n("3591"),o=n("1807");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("9852");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"212f86a4",null,!1,i["a"],void 0);e["default"]=r.exports},3591:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uImage:n("3c30").default,communityCommentList:n("3378").default,uIcon:n("d883").default,uLoading:n("f37e").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"comment"},[n("v-uni-view",{staticClass:"comment--item"},[n("v-uni-view",{staticClass:"flex col-top row-between"},[n("v-uni-navigator",{attrs:{"hover-class":"none","open-type":"navigate",url:"/bundle_b/pages/community_user/community_user?id="+t.commentInfo.user_id}},[n("u-image",{attrs:{src:t.commentInfo.avatar,width:"88",height:"88",borderRadius:"50%"}})],1),n("v-uni-view",{staticClass:"m-l-16 flex-1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onComment(t.isSecond?t.commentInfo.pid:t.commentInfo.id,t.commentInfo.nickname)}}},[n("v-uni-view",{staticClass:"lighter sm flex"},[t._v(t._s(t.commentInfo.nickname)),t.commentInfo.is_author?n("v-uni-text",{staticClass:"lighter xxs author"},[t._v("作者")]):t._e()],1),n("v-uni-view",{staticClass:"m-t-10 nr normal content"},[t.commentInfo.is_second?n("v-uni-text",[t._v("回复"),n("v-uni-text",{staticClass:"primary m-l-6 m-r-6"},[t._v("@"+t._s(t.commentInfo.reply_nickname))])],1):t._e(),t._v(t._s(t.commentInfo.comment))],1),n("v-uni-view",{staticClass:"muted xs m-t-10"},[t._v(t._s(t.commentInfo.create_time))])],1),n("v-uni-view",{staticClass:"good text-center m-l-30",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handleCommentLike(t.commentInfo.id,t.commentInfo.is_like,t.commentInfo)}}},[n("v-uni-image",{attrs:{src:t.commentInfo.is_like?"/static/images/icon_good_s.png":"/static/images/icon_good.png"}}),n("v-uni-view",{staticClass:"xxs muted"},[t._v(t._s(t.commentInfo.like))])],1)],1)],1),t.commentInfo.child?t._l(t.commentInfo.child,(function(e){return n("community-comment-list",{key:e.id,staticClass:"comment--item-list",attrs:{comment:e,isSecond:!0},on:{reply:function(e){arguments[0]=e=t.$handleEvent(e),t.onReply.apply(void 0,arguments)}}})})):t._e(),0!=t.commentInfo.more&&t.commentInfo.more+2>!t.commentInfo.child&&t.more&&!t.commentInfo.loading?n("v-uni-view",{staticClass:"sons primary xs m-t-10 flex",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handleLoadingMore.apply(void 0,arguments)}}},[t._v("展开更多回复"),n("u-icon",{attrs:{name:"arrow-down",size:"22",color:t.colorConfig.primary}})],1):t._e(),t.commentInfo.loading?n("v-uni-view",{staticClass:"sons primary xs"},[n("u-loading",{attrs:{color:t.colorConfig.primary,size:30,mode:"circle"}}),n("v-uni-text",{staticClass:"m-l-20"},[t._v("加载中")])],1):t._e(),n("v-uni-view",{staticClass:"border-b"})],2)},a=[]},3801:function(t,e,n){"use strict";var i=n("1395"),o=n.n(i);o.a},3919:function(t,e,n){"use strict";var i=n("75b5"),o=n.n(i);o.a},"3a19":function(t,e,n){var i=n("1bae");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("4520e5c0",i,!0,{sourceMap:!1,shadowMode:!1})},"3a1a":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uPopup:n("59b9").default,uImage:n("3c30").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("u-popup",{attrs:{mode:"bottom",height:"900",closeable:!0,"border-radius":"14"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-uni-view",{staticClass:"xl p-24 text-center bold"},[t._v("TA提到的店铺")]),t._l(t.lists,(function(e,i){return n("v-uni-navigator",{key:i,attrs:{"hover-class":"none",url:"/pages/store_index/store_index?id="+e.id}},[n("v-uni-view",{staticClass:"shop flex"},[n("u-image",{attrs:{width:"160",height:"160",src:e.logo}}),n("v-uni-view",{staticClass:"m-l-20 shop-info"},[n("v-uni-view",{staticClass:"line-2 nr normal"},[t._v(t._s(e.name))])],1)],1)],1)}))],2)},a=[]},"3c30":function(t,e,n){"use strict";n.r(e);var i=n("ee84"),o=n("a558");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("4ef3");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"1bf07c9a",null,!1,i["a"],void 0);e["default"]=r.exports},"3e6b":function(t,e,n){var i=n("1bef");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("d28f532c",i,!0,{sourceMap:!1,shadowMode:!1})},"3ed4":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.goods[data-v-71705d72]{padding:%?20?%;border-top:1px solid #f6f6f6}.goods .goods-info[data-v-71705d72]{height:%?160?%}',""]),t.exports=e},"414a":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={jVideo:n("a88a").default,uImage:n("3c30").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"swiper-wrap"},[n("v-uni-swiper",{ref:"swiper",staticClass:"swiper",attrs:{autoplay:t.autoplay,circular:t.circular,interval:t.interval,duration:t.duration},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.swiperChange.apply(void 0,arguments)}}},[t.video?n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"video-wrap"},[n("j-video",{attrs:{url:t.video,height:"750rpx",width:"750rpx",poster:t.poster}})],1)],1):t._e(),t._l(t.urls,(function(e,i){return[n("v-uni-swiper-item",{key:i+"_0",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.previewImage(i)}}},[n("u-image",{attrs:{width:"100%",height:"750rpx",src:e.url,borderRadius:t.borderRadius}})],1)]}))],2),n("v-uni-view",{staticClass:"dots black sm bg-white br60"},[t._v(t._s(t.currentSwiper+1)+"/"+t._s(t.swiperLength))])],1)},a=[]},"4c56":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.u-image[data-v-1bf07c9a]{position:relative;transition:opacity .5s ease-in-out}.u-image__image[data-v-1bf07c9a]{width:100%;height:100%}.u-image__loading[data-v-1bf07c9a], .u-image__error[data-v-1bf07c9a]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#f3f4f6;color:#909399;font-size:%?46?%}',""]),t.exports=e},"4dd2":function(t,e,n){"use strict";var i=n("f7ac"),o=n.n(i);o.a},"4e15":function(t,e,n){"use strict";n.r(e);var i=n("5377"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"4ef3":function(t,e,n){"use strict";var i=n("27c6"),o=n.n(i);o.a},"52ef":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},props:{type:{type:String,default:"fixed"},backgroundColor:{type:String,default:"#fff"}},methods:{}};e.default=i},5377:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa"),n("fd3c");getApp();var i={data:function(){return{currentSwiper:0,urls:[],showPlay:!0,showControls:!1}},props:{imgUrls:{type:Array,default:function(){return[]}},circular:{type:Boolean,default:!0},interval:{type:Number,default:3e3},duration:{type:Number,default:500},video:{type:String},autoplay:{type:Boolean,default:!0},borderRadius:{type:[Number,String],default:0}},watch:{imgUrls:{handler:function(t){this.urls=t.map((function(t){return{url:t.uri||t.image}}))},immediate:!0}},methods:{swiperChange:function(t){this.currentSwiper=t.detail.current},previewImage:function(t){uni.previewImage({current:t,urls:this.imgUrls.map((function(t){return t.uri}))})}},computed:{poster:function(){return this.urls[0]?this.urls[0].url:""},swiperLength:function(){var t=this.urls.length;return this.video?++t:t}}};e.default=i},"59f7":function(t,e,n){"use strict";n.r(e);var i=n("6759"),o=n("5b3c");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("6eb2");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"1e3db83c",null,!1,i["a"],void 0);e["default"]=r.exports},"5a81":function(t,e,n){var i=n("c86c"),o=n("2ec5"),a=n("6b25");e=i(!1);var s=o(a);e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.bb[data-v-1e3db83c]{border-bottom:1px solid #e5e5e5}.content-box[data-v-1e3db83c]{margin-bottom:%?20?%;background-color:#fff}.content-box .audit[data-v-1e3db83c]{padding:%?20?% %?24?%;background-color:rgba(255,44,60,.1)}.content-box .audit uni-image[data-v-1e3db83c]{width:%?60?%;height:%?60?%}.content-box .header[data-v-1e3db83c]{font-size:%?28?%;padding:%?20?% %?24?%}.content-box .header .share-img[data-v-1e3db83c]{width:%?60?%;height:%?60?%}.content-box .header .follow-btn[data-v-1e3db83c]{width:%?118?%;height:%?48?%;line-height:%?44?%;color:#fff;padding:0;background:linear-gradient(90deg,#f95f2f,#ff2c3c)}.content-box .header .follow-btn uni-image[data-v-1e3db83c]{width:%?30?%;height:%?30?%;vertical-align:middle}.content-box .header .followed-btn[data-v-1e3db83c]{width:%?118?%;height:%?48?%;line-height:%?44?%;color:#fff;padding:0;background-color:#ccc}.content-box .header .manage-btn[data-v-1e3db83c]{width:%?92?%;height:%?48?%;line-height:%?44?%;padding:0;border:1px solid #ff2c3c;color:#ff2c3c}.content-box .swiper-container[data-v-1e3db83c]{padding:0 %?20?%}.content-box .goods-box[data-v-1e3db83c]{padding:%?15?% %?24?%}.content-box .goods-box .tips[data-v-1e3db83c]{padding:0 %?10?%;color:#ff2c3c;border-radius:%?20?%;border:1px solid #ff2c3c}.content-box .content[data-v-1e3db83c]{padding:%?24?%}.content-box .content .text[data-v-1e3db83c]{white-space:pre-line;line-height:%?48?%;font-size:%?28?%;color:#333}.content-box .content .tags[data-v-1e3db83c]{padding:%?24?% 0}.content-box .content .tags uni-text[data-v-1e3db83c]{margin-right:%?20?%;border-radius:%?26?%;padding:%?8?% %?24?%;color:#ff2c3c;background:rgba(255,44,60,.1)}.comment-box[data-v-1e3db83c]{overflow:hidden;padding-bottom:%?140?%}.comment-box .comment-title[data-v-1e3db83c]{color:#101010;padding:%?28?% %?24?%;font-size:%?30?%}.footer[data-v-1e3db83c]{width:100%;height:%?92?%;z-index:99;position:fixed;left:0;bottom:0;box-sizing:initial;padding-bottom:env(safe-area-inset-bottom);box-shadow:0 %?-4?% %?10?% rgba(0,0,0,.1)}.footer .content-wrapper[data-v-1e3db83c]{width:100%;padding:0 %?30?%;color:#666;font-size:%?28?%}.footer .content-wrapper .input[data-v-1e3db83c]{width:100%;border-radius:%?30?%;background:#f8f8f8;padding:%?10?% %?30?%}.footer .content-wrapper uni-image[data-v-1e3db83c]{width:%?44?%;height:%?44?%;margin-right:%?6?%}.footer .content-wrapper .likes-box[data-v-1e3db83c]{position:relative}.footer .content-wrapper .likes-box .likes[data-v-1e3db83c]{z-index:999;left:%?-10?%;width:%?120?%;height:%?120?%;margin-right:%?6?%;position:absolute;background:url('+s+") no-repeat;background-position:0;background-size:cover}.footer .content-wrapper .likes-box .leave[data-v-1e3db83c]{background-position:0}.footer .content-wrapper .likes-box .entry[data-v-1e3db83c]{background-position:100%;transition:background .6s steps(28)}.share-tips .share-arrow[data-v-1e3db83c]{width:%?140?%;height:%?250?%;float:right;margin:%?15?% %?31?% 0 0}",""]),t.exports=e},"5b3c":function(t,e,n){"use strict";n.r(e);var i=n("6eda"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},6029:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("2634")),a=i(n("2fdc")),s=i(n("9b1b"));n("64aa"),n("aa9c");var r=n("8f59"),c=n("6817"),u=n("b7aa"),d=(n("6423"),{name:"community-comment",props:{value:{type:Boolean},communityId:{type:[Number,String]},pid:{type:[String,Number]},placeholder:{type:[String,Number],default:"发表你的想法吧..."},safeAreaInsetBottom:{type:Boolean,default:!1}},data:function(){return{isFocus:!0,height:0,content:""}},computed:(0,s.default)((0,s.default)({},(0,r.mapGetters)(["sysInfo"])),{},{commentPlaceholder:function(){return this.placeholder},show:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},tabbarBottom:function(){return this.safeAreaInsetBottom?(console.log("???"),50):0}}),mounted:function(){this.handleComment=(0,u.trottle)(this.handleComment,500,this)},methods:{handleFocus:function(t){var e=this;return(0,a.default)((0,o.default)().mark((function n(){return(0,o.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.isFocus=!0,"pages/community/community"==(0,u.currentPage)().route?e.height=t.detail.height-54:e.height=t.detail.height;case 2:case"end":return n.stop()}}),n)})))()},handleBlur:function(){this.isFocus=!1},handleComment:function(){var t=this;if(!this.isLogin)return this.$Router.push("/pages/login/login");(0,c.apiCommunityCommentAdd)({article_id:this.communityId,pid:this.pid,comment:this.content}).then((function(e){t.$toast({title:e.msg}),1==e.code&&(t.show=!1,t.$emit("change",e.data),t.content="")}))}}});e.default=d},"60f8":function(t,e,n){var i=n("5a81");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("e354b5b2",i,!0,{sourceMap:!1,shadowMode:!1})},6522:function(t,e,n){"use strict";n.r(e);var i=n("fb6c"),o=n("b203");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("6dd5");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"71705d72",null,!1,i["a"],void 0);e["default"]=r.exports},"65b4":function(t,e,n){"use strict";n.r(e);var i=n("0bd1"),o=n("153d");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("c44a");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"3860b5bc",null,!1,i["a"],void 0);e["default"]=r.exports},6759:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uImage:n("3c30").default,productSwiper:n("e1f9").default,uIcon:n("d883").default,uLoading:n("f37e").default,communityCommentList:n("3378").default,uActionSheet:n("65b4").default,uModal:n("c4ff").default,communityGoods:n("6522").default,communityShop:n("8d78").default,communityComment:n("c977").default,loadingView:n("8616").default,uPopup:n("59b9").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"content-box"},[2==t.communityInfo.status?n("v-uni-view",{staticClass:"audit flex"},[n("v-uni-image",{attrs:{src:"/bundle_b/static/icon_audit_fail.png"}}),n("v-uni-view",{staticClass:"m-l-16 primary"},[n("v-uni-view",{staticClass:"bold md"},[t._v("审核失败")]),n("v-uni-view",{staticClass:"xs m-t-6"},[t._v(t._s(t.communityInfo.audit_remark_desc))])],1)],1):t._e(),0==t.communityInfo.status?n("v-uni-view",{staticClass:"audit flex"},[n("v-uni-image",{attrs:{src:"/bundle_b/static/icon_under_review.png"}}),n("v-uni-view",{staticClass:"m-l-16 primary"},[n("v-uni-view",{staticClass:"bold md"},[t._v("审核中")]),n("v-uni-view",{staticClass:"xs m-t-6"},[t._v(t._s(t.communityInfo.audit_remark_desc))])],1)],1):t._e(),n("v-uni-view",{staticClass:"header flex row-between"},[n("router-link",{attrs:{to:"/bundle_b/pages/community_user/community_user?id="+t.communityInfo.user.id}},[n("v-uni-view",{staticClass:"flex"},[n("u-image",{attrs:{width:"70",height:"70",src:t.communityInfo.user.avatar,borderRadius:"50%"}}),n("v-uni-text",{staticClass:"normal bold m-l-16"},[t._v(t._s(t.communityInfo.user.nickname))])],1)],1),n("v-uni-view",{staticClass:"flex"},[0==t.communityInfo.is_author&&0==t.communityInfo.is_follow?n("v-uni-button",{staticClass:"follow-btn br60",attrs:{size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleFollow(1)}}},[n("v-uni-image",{attrs:{src:"/bundle_b/static/icon_follow.png"}}),n("v-uni-text",{staticClass:"m-l-6 xs"},[t._v("关注")])],1):t._e(),0==t.communityInfo.is_author&&1==t.communityInfo.is_follow?n("v-uni-button",{staticClass:"followed-btn br60 sm",attrs:{size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showFollowTips=!0}}},[t._v("已关注")]):t._e(),t.communityInfo.is_author?n("v-uni-button",{staticClass:"manage-btn br60",attrs:{size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showManage=!0}}},[t._v("管理")]):t._e(),n("v-uni-button",{staticClass:"flex-col col--center",attrs:{"open-type":"share","hover-class":"none"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleShare.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"share-img m-l-12",attrs:{src:"/bundle_b/static/icon_forward.png"}})],1)],1)],1),n("v-uni-view",{staticClass:"swiper-container"},[n("product-swiper",{attrs:{imgUrls:t.communityInfo.images,autoplay:!1,borderRadius:"14"}})],1),t.communityInfo.goods_data.length?n("v-uni-view",{staticClass:"goods-box bb flex row-between",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showGoodsPopup=!0}}},[n("v-uni-text",{staticClass:"nr lighter"},[t._v("查看TA提到的宝贝("+t._s(t.communityInfo.goods_data.length)+")")]),n("v-uni-view",{staticClass:"goods flex"},[t._l(t.communityInfo.goods_data,(function(e,i){return[i<=2?n("u-image",{key:i+"_0",staticClass:"m-l-6",attrs:{src:e.image,width:"58",height:"58"}}):t._e()]})),n("u-icon",{staticClass:"m-l-10",attrs:{name:"arrow-right"}})],2)],1):t._e(),t.communityInfo.shop_data.length?n("v-uni-view",{staticClass:"goods-box bb flex row-between",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showShopPopup=!0}}},[n("v-uni-text",{staticClass:"nr lighter"},[t._v("查看TA提到的店铺("+t._s(t.communityInfo.shop_data.length)+")")]),n("v-uni-view",{staticClass:"goods flex"},[t._l(t.communityInfo.shop_data,(function(e,i){return[i<=2?n("u-image",{key:i+"_0",staticClass:"m-l-6",attrs:{src:e.logo,width:"58",height:"58"}}):t._e()]})),n("u-icon",{staticClass:"m-l-10",attrs:{name:"arrow-right"}})],2)],1):t._e(),n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"text"},[t._v(t._s(t.communityInfo.content))]),t.communityInfo.topic?n("v-uni-view",{staticClass:"tags"},[n("v-uni-navigator",{attrs:{"hover-class":"none",url:"/bundle_b/pages/community_topic/community_topic?id="+t.communityInfo.topic.id+"&name="+t.communityInfo.topic.name}},[n("v-uni-text",[t._v("# "+t._s(t.communityInfo.topic.name))])],1)],1):t._e(),n("v-uni-view",{staticClass:"xs muted"},[t._v(t._s(t.communityInfo.create_time||"2022-05-20 05:13:14"))])],1)],1),n("v-uni-view",{staticClass:"comment-box m-t-20 bg-white"},[n("v-uni-view",{staticClass:"comment-title bb",attrs:{id:"comment"}},[t._v("评价 ("+t._s(t.communityInfo.total_comment||"0")+"条)")]),t.isCommentLoading?[n("v-uni-view",{staticClass:"text-center flex row-center p-50"},[n("u-loading",{attrs:{color:t.colorConfig.primary,size:40,mode:"circle"}}),n("v-uni-text",{staticClass:"m-l-20"},[t._v("加载中")])],1)]:[t.commentData.length?[t._l(t.commentData,(function(e,i){return n("v-uni-view",{key:e.id,on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelectComment(i)}}},[n("community-comment-list",{attrs:{comment:e},on:{reply:function(e){arguments[0]=e=t.$handleEvent(e),t.onReply.apply(void 0,arguments)}}})],1)})),1===t.more&&t.loading?n("v-uni-view",{staticClass:"flex row-center primary nd p-50"},[n("u-loading",{attrs:{color:t.colorConfig.primary,size:40,mode:"circle"}}),n("v-uni-text",{staticClass:"m-l-20"},[t._v("加载中")])],1):n("v-uni-view",{staticClass:"text-center muted nd p-50"},[n("v-uni-text",[t._v("没有更多了~")])],1)]:n("v-uni-view",{staticClass:"text-center p-50"},[n("v-uni-view",{staticClass:"flex row-center"},[n("u-image",{attrs:{src:"/static/images/news_null.png",width:"300",height:"300"}})],1),n("v-uni-view",{staticClass:"muted m-t-40"},[t._v("还没有人评论呢, 快来抢沙发～")])],1)]],2),n("v-uni-view",{staticClass:"footer flex bg-white"},[n("v-uni-view",{staticClass:"content-wrapper flex row-between"},[n("v-uni-view",{staticClass:"flex-1 flex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleComment.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"input nr muted"},[t._v("发表你的想法吧")])],1),n("v-uni-view",{staticClass:"flex likes-box"},[n("v-uni-view",{staticClass:"likes",class:t.communityInfo.is_like?"entry":"leave",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleLike(t.communityInfo.is_like)}}}),n("v-uni-image",{staticClass:"m-l-30"}),n("v-uni-text",[t._v(t._s(t.communityInfo.like||"0"))])],1),n("v-uni-view",{staticClass:"flex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toComment.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"m-l-30",attrs:{src:"/static/images/icon_evaluate.png"}}),n("v-uni-text",[t._v(t._s(t.communityInfo.total_comment||"0"))])],1)],1)],1),n("u-action-sheet",{attrs:{list:t.manageList,"safe-area-inset-bottom":!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleManage.apply(void 0,arguments)}},model:{value:t.showManage,callback:function(e){t.showManage=e},expression:"showManage"}}),n("u-modal",{attrs:{"show-cancel-button":!0,"comfirm-text":"取消关注",cancelText:"再想想","confirm-color":t.colorConfig.primary,"show-title":!1},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.handleFollow(0)}},model:{value:t.showFollowTips,callback:function(e){t.showFollowTips=e},expression:"showFollowTips"}},[n("v-uni-view",{staticClass:"flex-col col-center tips-dialog",staticStyle:{"padding-top":"40rpx"}},[n("v-uni-image",{staticClass:"icon-lg",attrs:{src:"/static/images/icon_warning.png"}}),n("v-uni-view",{staticStyle:{margin:"30rpx 0"}},[t._v("确认取消关注？")])],1)],1),n("community-goods",{attrs:{communityId:t.communityInfo.id},model:{value:t.showGoodsPopup,callback:function(e){t.showGoodsPopup=e},expression:"showGoodsPopup"}}),n("community-shop",{attrs:{communityId:t.communityInfo.id},model:{value:t.showShopPopup,callback:function(e){t.showShopPopup=e},expression:"showShopPopup"}}),n("community-comment",{attrs:{communityId:t.communityId,safeAreaInsetBottom:!1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeComment.apply(void 0,arguments)}},model:{value:t.showCommentPopup,callback:function(e){t.showCommentPopup=e},expression:"showCommentPopup"}}),n("community-comment",{attrs:{communityId:t.communityId,pid:t.childPid,placeholder:t.childPlaceholder,safeAreaInsetBottom:!1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCommentChild.apply(void 0,arguments)}},model:{value:t.showCommentChildPopup,callback:function(e){t.showCommentChildPopup=e},expression:"showCommentChildPopup"}}),t.isFirstLoading?n("loading-view"):t._e(),n("u-popup",{staticClass:"share-tips",attrs:{"custom-style":{background:"none"},mode:"top"},model:{value:t.showTips,callback:function(e){t.showTips=e},expression:"showTips"}},[n("v-uni-view",{staticStyle:{overflow:"hidden"}},[n("v-uni-image",{staticClass:"share-arrow",attrs:{src:"/static/images/share_arrow.png"}}),n("v-uni-view",{staticClass:"white",staticStyle:{"text-align":"center","margin-top":"280rpx"}},[n("v-uni-view",{staticClass:"bold lg"},[t._v("立即分享给好友吧")]),n("v-uni-view",{staticClass:"sm m-t-10"},[t._v("点击屏幕右上角将本页面分享给好友")])],1)],1)],1)],1)},a=[]},6817:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.apiCommunityAdd=function(t){return o.default.post("community/addArticle",t)},e.apiCommunityClearSearchHistory=function(){return o.default.post("community_search/clear")},e.apiCommunityCommentAdd=function(t){return o.default.post("community_comment/add",t)},e.apiCommunityCommentLike=function(t){return o.default.post("community/giveLike",t)},e.apiCommunityDel=function(t){return o.default.post("community/delArticle",t)},e.apiCommunityEdit=function(t){return o.default.post("community/editArticle",t)},e.apiCommunityFollow=function(t){return o.default.post("community/follow",t)},e.apiCommunitySetSetting=function(t){return o.default.post("community_user/setSetting",t)},e.getCommunityArticleLists=function(t){return o.default.get("community/articleLists",{params:t})},e.getCommunityCate=function(){return o.default.get("community/cate")},e.getCommunityCommentChildLists=function(t){return o.default.get("community_comment/commentChild",{params:t})},e.getCommunityCommentLists=function(t){return o.default.get("community_comment/lists",{params:t})},e.getCommunityDetail=function(t){return o.default.get("community/detail",{params:t})},e.getCommunityFollow=function(t){return o.default.get("community/followArticle",{params:t})},e.getCommunityGoods=function(t){return o.default.get("community/goods",{params:t})},e.getCommunityGoodsLists=function(t){return o.default.get("community/relationGoods",{params:t})},e.getCommunityLikeLists=function(t){return o.default.get("community/likeLists",{params:t})},e.getCommunityRecommendTopic=function(){return o.default.get("community/recommendTopic")},e.getCommunitySearchHistory=function(){return o.default.get("community_search/lists")},e.getCommunitySetting=function(){return o.default.get("community_user/getSetting")},e.getCommunityShop=function(t){return o.default.get("community/shop",{params:t})},e.getCommunityShopLists=function(t){return o.default.get("community/relationShop",{params:t})},e.getCommunityTopicArticle=function(t){return o.default.get("community/topicArticle",{params:t})},e.getCommunityTopicLists=function(t){return o.default.get("community/topicLists",{params:t})},e.getCommunityUserCenter=function(t){return o.default.get("community_user/center",{params:t})},e.getCommunityWorksLists=function(t){return o.default.get("community/worksLists",{params:t})};var o=i(n("434d"))},"6b25":function(t,e,n){t.exports=n.p+"static/images/likes.png"},"6cc6":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,".swiper-wrap[data-v-7e5db0e3]{width:100%;height:%?750?%;position:relative}.swiper-wrap .swiper[data-v-7e5db0e3]{width:100%;height:100%;position:relative}.swiper-wrap .swiper .slide-image[data-v-7e5db0e3]{width:100%;height:100%}.swiper-wrap .dots[data-v-7e5db0e3]{position:absolute;right:%?24?%;bottom:%?24?%;display:flex;height:%?34?%;padding:0 %?15?%}.swiper-wrap .video-wrap[data-v-7e5db0e3]{width:100%;height:100%;position:relative;overflow:hidden}.swiper-wrap .my-video[data-v-7e5db0e3]{width:100%;height:100%}.swiper-wrap .icon-play[data-v-7e5db0e3]{width:%?90?%;height:%?90?%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);z-index:999}",""]),t.exports=e},"6cf6":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.u-tips[data-v-3860b5bc]{font-size:%?26?%;text-align:center;padding:%?34?% 0;line-height:1;color:#909399}.u-action-sheet-item[data-v-3860b5bc]{display:flex;flex-direction:row;line-height:1;justify-content:center;align-items:center;font-size:%?32?%;padding:%?34?% 0;flex-direction:column}.u-action-sheet-item__subtext[data-v-3860b5bc]{font-size:%?24?%;color:#909399;margin-top:%?20?%}.u-gab[data-v-3860b5bc]{height:%?12?%;background-color:#eaeaec}.u-actionsheet-cancel[data-v-3860b5bc]{color:#303133}',""]),t.exports=e},"6dd5":function(t,e,n){"use strict";var i=n("a69a"),o=n.n(i);o.a},"6eb2":function(t,e,n){"use strict";var i=n("60f8"),o=n.n(i);o.a},"6eda":function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("3efd"),n("aa9c"),n("bf0f"),n("2797");var o=i(n("9b1b")),a=n("6817"),s=n("b7aa"),r={data:function(){return{globalLike:!1,communityId:"",communityInfo:{user:{avatar:"",nickname:"",id:null},goods_data:[],shop_data:[],topic:{id:!1,name:""}},isFirstLoading:!0,isCommentLoading:!0,showManage:!1,manageList:[{text:"编辑",color:"#333333",fontSize:32},{text:"删除",color:"#333333",fontSize:32}],showFollowTips:!1,showGoodsPopup:!1,showShopPopup:!1,showTips:!1,showCommentPopup:!1,showCommentChildPopup:!1,childPid:"",childIndex:"",childPlaceholder:"",toScrollArr:[],commentData:[],page:1,pageSize:10,more:0,loading:!1}},onLoad:function(){var t=this;this.$nextTick((function(){uni.pageScrollTo({scrollTop:0,duration:0}),(0,s.getRect)("#comment").then((function(e){t.toScrollArr[0]=e.top}))}));var e=this.$Route.query;if(e&&e.scene){var n=strToParams(decodeURIComponent(e.scene));e.id=n.id}this.communityId=e.id||"",this.initCommunityDetail()},onShow:function(){},onReachBottom:function(){console.log("触底"),this.more&&(this.loading=!0,this.getCommentData())},onShareAppMessage:function(){return{title:"".concat(this.communityInfo.user.nickname,"，TA的内容超级棒"),path:"/bundle_b/pages/community_detail/community_detail?id="+this.communityId,imageUrl:this.communityInfo.image}},methods:{initCommunityDetail:function(){var t=this;(0,a.getCommunityDetail)({id:this.communityId}).then((function(e){1==e.code?(t.communityInfo=e.data,setTimeout((function(){t.isFirstLoading&&t.getCommentData(),t.isFirstLoading=!1}),600)):(t.$toast({title:e.msg}),setTimeout((function(){return t.$Router.back()}),2e3))}))},handleShare:function(){this.showTips=!0,this.$store.commit("setCommunity",(0,o.default)((0,o.default)({},this.communityInfo),{},{url:"bundle_b/pages/community_detail/community_detail"})),this.$store.dispatch("communityShare")},changeComment:function(t){this.communityInfo.total_comment+=1,t.hasOwnProperty("child")||(t.child=[]),this.commentData.unshift(t)},onSelectComment:function(t){this.childIndex=t},onReply:function(t){this.childPid=t.parentId,this.childPlaceholder="回复@"+t.commentUserName,this.showCommentChildPopup=!0},changeCommentChild:function(t){this.commentData[this.childIndex].child.push(t)},getCommentData:function(){var t=this;(0,a.getCommunityCommentLists)({article_id:this.communityId,page_no:this.page,page_size:this.pageSize}).then((function(e){setTimeout((function(){return t.isCommentLoading=!1}),500),1==e.code?(e.data.list.forEach((function(e){e.loading=!1,t.commentData.push(e)})),1===e.data.more&&(t.page+=1),t.more=e.data.more,t.loading=!1):t.$toast({title:e.msg})}))},handleComment:function(){this.showCommentPopup=!0},handleManage:function(t){var e=this;switch(t){case 0:this.$Router.push({path:"/bundle_b/pages/published_works/published_works",query:{id:this.communityId}});break;case 1:(0,a.apiCommunityDel)({id:this.communityId}).then((function(t){1==t.code&&(e.$toast({title:"删除成功"}),setTimeout((function(){return e.$Router.back()}),1e3))}));break}},handleFollow:function(t){var e=this;if(!this.isLogin)return this.$Router.push("/pages/login/login");(0,a.apiCommunityFollow)({follow_id:this.communityInfo.user.id,status:t}).then((function(t){e.$toast({title:t.msg}),e.initCommunityDetail()}))},handleLike:function(t){var e=this;if(!this.isLogin)return this.$Router.push("/pages/login/login");this.communityInfo.is_like=!t,(0,a.apiCommunityCommentLike)({id:this.communityId,status:t?0:1,type:1}).then((function(n){1===n.code?(t?e.communityInfo.like-=1:e.communityInfo.like+=1,uni.$emit("changeItem",{like:e.communityInfo.like,is_like:e.communityInfo.is_like,id:e.communityId})):(e.communityInfo.is_like=t,e.$toast({title:n.msg}))}))},toComment:function(){uni.pageScrollTo({scrollTop:this.toScrollArr[0],duration:200})}}};e.default=r},"74cf":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var i=n("6817"),o={name:"community-shop",props:{value:{type:Boolean},communityId:{type:[String,Number],default:""}},data:function(){return{lists:[]}},computed:{show:{get:function(){return this.value},set:function(t){t&&this.initRecommendShop(),this.$emit("input",t)}}},methods:{initRecommendShop:function(){var t=this;(0,i.getCommunityShopLists)({id:this.communityId}).then((function(e){t.lists=e.data}))}}};e.default=o},"75b5":function(t,e,n){var i=n("c0e6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("3d02e3fb",i,!0,{sourceMap:!1,shadowMode:!1})},8616:function(t,e,n){"use strict";n.r(e);var i=n("bc3d"),o=n("bfb6");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("c183");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"061dd044",null,!1,i["a"],void 0);e["default"]=r.exports},"8d78":function(t,e,n){"use strict";n.r(e);var i=n("3a1a"),o=n("fc0c");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("cb98");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"05e2bf4b",null,!1,i["a"],void 0);e["default"]=r.exports},9828:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("aa9c"),n("d4b5"),n("473f"),n("bf0f");var o=i(n("b7c7")),a=n("6817"),s=i(n("3378")),r=n("b7aa"),c={name:"community-comment-list",components:{"community-comment-list":s.default},props:{comment:{type:Object},isSecond:{type:Boolean,default:!1}},data:function(){return{more:1,page:1,pageSize:5,commentInfo:{}}},watch:{comment:{handler:function(t){var e;this.commentInfo.hasOwnProperty("child")?((e=this.commentInfo.child).push.apply(e,(0,o.default)(JSON.parse(JSON.stringify(t.child)))),this.commentInfo.child=this.removeDiffrent(this.commentInfo.child,"id")):this.commentInfo=t},immediate:!0}},mounted:function(){this.handleCommentLike=(0,r.debounce)(this.handleCommentLike,100)},methods:{onReply:function(t){this.$emit("reply",t)},onComment:function(t,e){if(!this.isLogin)return this.$Router.push("/pages/login/login");this.$emit("reply",{commentId:t,parentId:this.commentInfo.id,commentUserName:e})},handleCommentLike:function(t,e,n){var i=this;if(!this.isLogin)return this.$Router.push("/pages/login/login");switch(e){case 0:this.$set(n,"like",n.like+=1),this.$set(n,"is_like",1);break;case 1:this.$set(n,"like",n.like-=1),this.$set(n,"is_like",0);break}(0,a.apiCommunityCommentLike)({id:t,status:e?0:1,type:2}).then((function(t){if(1!==t.code){switch(e){case 0:i.$set(n,"like",n.like-=1),i.$set(n,"is_like",1);break;case 1:i.$set(n,"like",n.like+=1),i.$set(n,"is_like",0);break}i.$toast({title:t.msg})}}))},handleLoadingMore:function(){var t=this;if(!this.isLogin)return this.$Router.push("/pages/login/login");this.commentInfo.loading=!0,(0,a.getCommunityCommentChildLists)({comment_id:this.commentInfo.id,page_no:this.page,page_size:this.pageSize}).then((function(e){var n;1===e.code?(t.more=e.data.more,(n=t.commentInfo.child).push.apply(n,(0,o.default)(e.data.list)),t.commentInfo.child=t.removeDiffrent(t.commentInfo.child,"id"),1===e.data.more&&(t.page+=1)):t.$toast({title:e.msg});t.commentInfo.loading=!1}))},removeDiffrent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n={};return t.reduce((function(t,i){return!n[i[e]]&&(n[i[e]]=t.push(i)),t}),[])}}};e.default=c},9852:function(t,e,n){"use strict";var i=n("3a19"),o=n.n(i);o.a},"9a86":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var i={name:"u-image",props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"auto"},shape:{type:String,default:"square"},borderRadius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"error-circle"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500},bgColor:{type:String,default:"#f3f4f6"}},data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{}}},watch:{src:{immediate:!0,handler:function(t){t?this.isError=!1:(this.isError=!0,this.loading=!1)}}},computed:{wrapStyle:function(){var t={};return t.width=this.$u.addUnit(this.width),t.height=this.$u.addUnit(this.height),t.borderRadius="circle"==this.shape?"50%":this.$u.addUnit(this.borderRadius),t.overflow=this.borderRadius>0?"hidden":"visible",this.fade&&(t.opacity=this.opacity,t.transition="opacity ".concat(Number(this.durationTime)/1e3,"s ease-in-out")),t}},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(t){this.loading=!1,this.isError=!0,this.$emit("error",t)},onLoadHandler:function(){var t=this;if(this.loading=!1,this.isError=!1,this.$emit("load"),!this.fade)return this.removeBgColor();this.opacity=0,this.durationTime=0,setTimeout((function(){t.durationTime=t.duration,t.opacity=1,setTimeout((function(){t.removeBgColor()}),t.durationTime)}),50)},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};e.default=i},a558:function(t,e,n){"use strict";n.r(e);var i=n("9a86"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},a5fb:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var i={name:"u-action-sheet",props:{maskCloseAble:{type:Boolean,default:!0},list:{type:Array,default:function(){return[]}},tips:{type:Object,default:function(){return{text:"",color:"",fontSize:"26"}}},cancelBtn:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!1},value:{type:Boolean,default:!1},borderRadius:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:0},cancelText:{type:String,default:"取消"}},computed:{tipsStyle:function(){var t={};return this.tips.color&&(t.color=this.tips.color),this.tips.fontSize&&(t.fontSize=this.tips.fontSize+"rpx"),t},itemStyle:function(){var t=this;return function(e){var n={};return t.list[e].color&&(n.color=t.list[e].color),t.list[e].fontSize&&(n.fontSize=t.list[e].fontSize+"rpx"),t.list[e].disabled&&(n.color="#c0c4cc"),n}},uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},methods:{close:function(){this.popupClose(),this.$emit("close")},popupClose:function(){this.$emit("input",!1)},itemClick:function(t){this.list[t].disabled||(this.$emit("click",t),this.$emit("input",!1))}}};e.default=i},a69a:function(t,e,n){var i=n("3ed4");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("6aacd2b5",i,!0,{sourceMap:!1,shadowMode:!1})},a88a:function(t,e,n){"use strict";n.r(e);var i=n("d274"),o=n("01ae");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("3801");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"78db8952",null,!1,i["a"],void 0);e["default"]=r.exports},b203:function(t,e,n){"use strict";n.r(e);var i=n("0764"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},bc3d:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uLoading:n("f37e").default},o=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{class:"loading "+("flex"==this.type?"flex":""),style:{backgroundColor:this.backgroundColor}},[e("u-loading",{attrs:{mode:"flower",size:60}})],1)},a=[]},bfb6:function(t,e,n){"use strict";n.r(e);var i=n("52ef"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},c0e6:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.comment-popup[data-v-2db8d482]{width:100%;height:%?340?%;border-radius:%?20?% %?20?% 0 0;position:fixed;z-index:9999;bottom:0;left:0;padding-bottom:env(safe-area-inset-bottom)}.comment-popup .comment-popup-header uni-view[data-v-2db8d482]{padding:%?28?% %?30?%}.comment-popup .comment-popup-content[data-v-2db8d482]{height:%?240?%;padding:%?20?%}.comment-popup .comment-popup-content .comment-popup-textarea[data-v-2db8d482]{width:100%;box-sizing:border-box;height:%?200?%;background:#f8f8f8;border-radius:%?14?%;padding:%?20?%}',""]),t.exports=e},c183:function(t,e,n){"use strict";var i=n("d66f"),o=n.n(i);o.a},c44a:function(t,e,n){"use strict";var i=n("d1cc"),o=n.n(i);o.a},c977:function(t,e,n){"use strict";n.r(e);var i=n("1a93"),o=n("06a1");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("3919");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"2db8d482",null,!1,i["a"],void 0);e["default"]=r.exports},cb98:function(t,e,n){"use strict";var i=n("3e6b"),o=n.n(i);o.a},cc69:function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("e966"),n("64aa");var i={computed:{posterUrl:function(){return this.poster?this.poster:this.url+"?x-oss-process=video/snapshot,t_"+parseInt(1e3*this.currentTime)+",f_jpg,w_800,m_fast"}},created:function(){this.videoId=Date.now()+Math.ceil(1e7*Math.random())+""},mounted:function(){this.VideoContext=uni.createVideoContext(this.videoId,this)},methods:{fullscreenchange:function(t){this.state=t.detail.fullScreen},timeupdate:function(t){this.duration=t.detail.duration,this.currentTime=t.detail.currentTime}},watch:{state:function(t,e){var n=this;t?(this.VideoContext.play(),setTimeout((function(){n.VideoContext.requestFullScreen({direction:n.direction})}),10)):this.VideoContext.pause()}},data:function(){return{VideoContext:{},state:!1,currentTime:0,duration:0,videoId:""}},props:{poster:{type:[String,Boolean],default:function(){return""}},url:{type:String,default:function(){return""}},direction:{type:Number,default:function(){return 0}},width:{type:String,default:function(){return"750rpx"}},height:{type:String,default:function(){return"450rpx"}}}};e.default=i},d1cc:function(t,e,n){var i=n("6cf6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("7597a960",i,!0,{sourceMap:!1,shadowMode:!1})},d274:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"root",style:{width:t.width,height:t.height}},[n("v-uni-image",{staticClass:"posterImg",style:{width:t.width,height:t.height},attrs:{src:t.posterUrl}}),n("v-uni-view",{staticClass:"box",style:{width:t.width,height:t.height},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.state=!t.state}}},[n("v-uni-image",{staticClass:"playIcon",attrs:{src:"/static/images/icon_play.png",mode:"widthFix"}})],1),n("v-uni-video",{staticClass:"video",style:{height:t.height,width:t.state?"750rpx":"1rpx"},attrs:{id:t.videoId,src:t.url,"show-mute-btn":!0},on:{pause:function(e){arguments[0]=e=t.$handleEvent(e),t.state=0},timeupdate:function(e){arguments[0]=e=t.$handleEvent(e),t.timeupdate.apply(void 0,arguments)},fullscreenchange:function(e){arguments[0]=e=t.$handleEvent(e),t.fullscreenchange.apply(void 0,arguments)}}})],1)},o=[]},d66f:function(t,e,n){var i=n("01c1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("4d6ee105",i,!0,{sourceMap:!1,shadowMode:!1})},e1f9:function(t,e,n){"use strict";n.r(e);var i=n("414a"),o=n("4e15");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("4dd2");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"7e5db0e3",null,!1,i["a"],void 0);e["default"]=r.exports},ee84:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uIcon:n("d883").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-image",style:[t.wrapStyle,t.backgroundStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[t.isError?t._e():n("v-uni-image",{staticClass:"u-image__image",style:{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.borderRadius)},attrs:{src:t.src,mode:t.mode,"lazy-load":t.lazyLoad},on:{error:function(e){arguments[0]=e=t.$handleEvent(e),t.onErrorHandler.apply(void 0,arguments)},load:function(e){arguments[0]=e=t.$handleEvent(e),t.onLoadHandler.apply(void 0,arguments)}}}),t.showLoading&&t.loading?n("v-uni-view",{staticClass:"u-image__loading",style:{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.borderRadius),backgroundColor:this.bgColor}},[t.$slots.loading?t._t("loading"):n("u-icon",{attrs:{name:t.loadingIcon,width:t.width,height:t.height}})],2):t._e(),t.showError&&t.isError&&!t.loading?n("v-uni-view",{staticClass:"u-image__error",style:{borderRadius:"circle"==t.shape?"50%":t.$u.addUnit(t.borderRadius)}},[t.$slots.error?t._t("error"):n("u-icon",{attrs:{name:t.errorIcon,width:t.width,height:t.height}})],2):t._e()],1)},a=[]},f4c6:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.root[data-v-78db8952]{position:relative;width:%?750?%;height:300px;overflow:hidden}.posterImg[data-v-78db8952],\n.video[data-v-78db8952],\n.box[data-v-78db8952]{display:flex;width:%?750?%;height:300px;position:absolute}.video[data-v-78db8952]{margin-left:-2000px}.box[data-v-78db8952]{justify-content:center;align-items:center}.playIcon[data-v-78db8952]{width:%?100?%;height:%?100?%}',""]),t.exports=e},f7ac:function(t,e,n){var i=n("6cc6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("27b03dd6",i,!0,{sourceMap:!1,shadowMode:!1})},fb6c:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uPopup:n("59b9").default,uImage:n("3c30").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("u-popup",{attrs:{mode:"bottom",height:"900",closeable:!0,"border-radius":"14"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-uni-view",{staticClass:"xl p-24 text-center bold"},[t._v("TA提到的商品")]),t._l(t.lists,(function(e,i){return n("v-uni-navigator",{key:i,attrs:{"hover-class":"none",url:"/pages/goods_details/goods_details?id="+e.id}},[n("v-uni-view",{staticClass:"goods flex"},[n("u-image",{attrs:{width:"160",height:"160",src:e.image}}),n("v-uni-view",{staticClass:"m-l-20 goods-info"},[n("v-uni-view",{staticClass:"line-2 nr normal"},[t._v(t._s(e.name))]),n("v-uni-view",{staticClass:"primary xl p-t-30"},[t._v("￥"+t._s(e.goods_price))])],1)],1)],1)}))],2)},a=[]},fc0c:function(t,e,n){"use strict";n.r(e);var i=n("74cf"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a}}]);